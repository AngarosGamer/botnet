<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client View</title>
    <link rel="stylesheet" href="/static/css/common.css">
    <link rel="stylesheet" href="/static/css/bot.css">
</head>
<body>
    <div id="navbar"></div> <!-- Dynamically filled by JS script -->
    <h1>Client View</h1>
    <div id="bot-view-controls">
        <div>
            <label for="client-id">Bot ID:</label>
            <input type="text" id="client-id" placeholder="Enter Bot ID (IP:port)">
            <button id="load-client">Load Bot</button>
        </div>
        <div id="timer-control">
            <p>Next update in: <span id="timer">30</span> seconds</p>
            <button id="force-refresh">Refresh Now</button>
        </div>
        <div id="send-command">
            <button id="open-command-modal">Send command</button>
        </div>
    </div>
    <div id="file-content" class="log-container"></div>
    <div id="shell-container" class="shell-container">
        <div id="shell-input-wrapper">
            <span id="cwd-display"></span>
            <input type="text" id="shell-input" placeholder="Enter command" />
        </div>
        <button id="send-shell-command">Send</button>
    </div>
    <button id="load-more">Load More</button>

    <!-- Modal for sending commands -->
    <div id="command-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Send Command</h2>
            <form id="command-form">
                <!-- Hidden input for bot_id -->
                <input type="hidden" id="client-id" name="bot_id" />

                <label for="cmd-id-input">Command ID:</label>
                <input type="text" id="cmd-id-input" placeholder="Enter Command ID (Optional)" />

                <label for="program-input">Program:<span class="required_fields">*</span></label>
                <input type="text" id="program-input" placeholder="Enter Program (e.g., ls)" required />

                <label for="params-input">Parameters:</label>
                <input type="text" id="params-input" placeholder="Enter Parameters (Optional)" />

                <label for="delay-input">Delay:</label>
                <input type="number" id="delay-input" placeholder="Enter Delay (default: 0)" />

                <label for="expected-code-input">Expected Exit Code:</label>
                <input type="number" id="expected-code-input" placeholder="Enter Expected Exit Code (default: 0)" />

                <button type="submit">Send Command</button>
            </form>
        </div>
    </div>

    <script src="/static/js/bot.js"></script>
    <script src="/static/js/load-navbar.js"></script>
    <script src="/static/js/command-modal.js"></script>
</body>
</html>